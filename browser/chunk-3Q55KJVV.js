import{b as ft}from"./chunk-7T3DQZOH.js";import{b as ut}from"./chunk-VGVLEVUS.js";import{A as mt,G as L,i as Q,n as Z,w as dt,x as pt}from"./chunk-4PI6GKAU.js";import{m as w,n as J,o as st,p as ct}from"./chunk-FL6LVHCL.js";import"./chunk-4YRY4IP2.js";import"./chunk-YHFLXNOC.js";import"./chunk-XDPPSI7D.js";import{a as E}from"./chunk-OQKDZ6KP.js";import{a as X,c as tt,f as et,g as it,h as at,i as ot,k as nt,l as lt,p as rt}from"./chunk-YCTAA2SV.js";import{a as q}from"./chunk-RKENV64N.js";import{oa as K,va as W,wa as Y}from"./chunk-EL7CSRMH.js";import{$b as x,Cc as U,Fb as P,Gb as _,Ib as A,Ka as j,Nb as G,Oa as r,Ob as g,Pb as H,Xa as o,Z as y,bb as v,ca as S,da as $,db as V,eb as d,ha as h,ib as b,jb as B,kb as N,lc as M,mb as z,nb as O,ob as n,pb as l,qb as p,ra as k,sa as C,ub as F,vb as m,wb as s}from"./chunk-SAC5J3G4.js";var gt=X.APPRAISAL_API_URL+"/attitude-skill",R=class e{constructor(i){this.http=i}findAttitudePaginated(i){return this.http.post(gt+"/findAttitudePaginated",i)}static \u0275fac=function(t){return new(t||e)(S(q))};static \u0275prov=y({token:e,factory:e.\u0275fac,providedIn:"root"})};var u=class e{constructor(i,t,a,c){this.spinnerService=i;this.attitudeSkillService=t;this.dialogService=a;this.messageService=c;this.init()}state={$dataList:o([]),$dataLoading:o(!1),$pagingInfo:o(new E),$totalRowCount:o(1),$selectedData:o(null),$selectedVerified:o(!0),$loading:o(!1),$disabledTable:o(!1),$optionsCategory:o([]),$selectedCategory:o(""),$searchText:o(""),$searchBtnClickEvent:o(!1),$optionsRole:o([]),$disabledUpdate:o(!0),$disabledSave:o(!0),$disabledCancel:o(!0),$formMode:o("idle")};$dataList=this.state.$dataList.asReadonly();$dataLoading=this.state.$dataLoading.asReadonly();$selectedData=this.state.$selectedData.asReadonly();$cols=o([{header:"No",class_td:"!text-center",type:"number"},{field:"category",header:"Category",class_td:"!text-center"},{field:"questionnaire",header:"Questionnaire",class_td:"!text-center"},{field:"answerType",header:"Type of Answer",class_td:"!text-center"},{field:"action",header:"Actions",class_td:"flex justify-center items-center gap-2",type:"action"}]).asReadonly();$pagingInfo=this.state.$pagingInfo.asReadonly();$totalRowCount=this.state.$totalRowCount.asReadonly();$selectedCategory=this.state.$selectedCategory.asReadonly();$searchText=this.state.$searchText.asReadonly();$filter=M(()=>{let i=null;if(this.$selectedCategory()){i={};let t=this.$selectedCategory()??"",a;typeof i[t]=="string"?a=this.$searchText()??"":a=parseInt(this.$searchText()),i[t]=a}return i});$disabledTable=M(()=>this.state.$formMode()=="edit");init(){this.setSpinner(),this.populateList()}setSpinner(){Y(this.state.$loading).subscribe(i=>i?this.spinnerService.show():this.spinnerService.hide())}populateList(){this.state.$dataLoading.set(!0);let i={wrapper:this.$filter(),pagingInfo:this.state.$pagingInfo(),totalRowCount:this.state.$totalRowCount()};this.attitudeSkillService.findAttitudePaginated(i).subscribe(t=>{t.status&&(this.state.$pagingInfo.set(t.object.pagingInfo||new E),this.state.$dataList.set(t.object.dataList||[]),this.state.$totalRowCount.set(t.object.totalRowCount||0)),this.state.$dataLoading.set(!1)})}onLazyLoad(i){this.populateList()}resetState(){this.state.$dataList.set([]),this.state.$dataLoading.set(!1),this.state.$selectedData.set(null),this.state.$loading.set(!1),this.state.$searchText.set(""),this.state.$searchBtnClickEvent.set(!1)}onSearchBtnClicked(i){this.state.$searchText.set(i),this.populateList()}onRefreshSearchClicked(){this.state.$searchText.set(""),this.state.$searchBtnClickEvent.set(!1),this.populateList()}editAction(i){this.state.$selectedData.set(i),this.state.$formMode.set("edit")}deleteAction(i){}static \u0275fac=function(t){return new(t||e)(S(W),S(R),S(ut),S(K))};static \u0275prov=y({token:e,factory:e.\u0275fac})};var D=class e{attitudeSkillStore=$(u);searchForm=new at({search:new ot({value:"",disabled:!1})});tempSearch="";constructor(){this.onSearchChanges()}onSearchChanges(){this.searchForm.controls.search.valueChanges.subscribe(i=>{this.tempSearch=i})}onRefreshSearch(){this.searchForm.controls.search.setValue(""),this.attitudeSkillStore.onRefreshSearchClicked()}onButtonClicked(){this.attitudeSkillStore.onSearchBtnClicked(this.tempSearch)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=h({type:e,selectors:[["app-attitude-skill-search"]],standalone:!0,features:[g],decls:7,vars:1,consts:[[1,"mb-2"],[1,"grid","grid-cols-8","grid-flow-rows","gap-2",3,"formGroup"],[1,"col-span-1","md:col-span-1"],["pInputText","","formControlName","search","name","search",1,"col-span-5","md:col-span-5"],["label","Search","styleClass","w-full !h-full",3,"click"],["label","Refresh","styleClass","w-full !h-full",3,"click"]],template:function(t,a){t&1&&(n(0,"div",0)(1,"div",1)(2,"span",2),_(3,"Search Reference: "),l(),p(4,"input",3),n(5,"p-button",4),m("click",function(){return a.onButtonClicked()}),l(),n(6,"p-button",5),m("click",function(){return a.onRefreshSearch()}),l()()()),t&2&&(r(),d("formGroup",a.searchForm))},dependencies:[rt,tt,et,it,nt,lt,ft,ct,st,J,w]})};var bt=()=>[5,10,20];function yt(e,i){if(e&1&&(n(0,"th",10),_(1),l()),e&2){let t=i.$implicit;r(),A(" ",t.header," ")}}function $t(e,i){if(e&1&&(n(0,"tr"),v(1,yt,2,1,"th",9),l()),e&2){let t=i.$implicit;r(),d("ngForOf",t)}}function vt(e,i){if(e&1&&(n(0,"td"),_(1),l()),e&2){let t=s().$implicit,a=s().rowIndex;b(t.class_td),r(),A(" ",a+1," ")}}function At(e,i){if(e&1&&(n(0,"td"),p(1,"div",13),l()),e&2){let t=s().$implicit,a=s().$implicit;b(t.class_td),r(),d("outerHTML",t.template(a[t.field]),j)}}function xt(e,i){if(e&1){let t=F();n(0,"td")(1,"p-button",14),m("click",function(){k(t);let c=s(2).$implicit,f=s();return C(f.attitudeSkillStore.editAction(c))}),l(),n(2,"p-button",15),m("click",function(){k(t);let c=s(2).$implicit,f=s();return C(f.attitudeSkillStore.deleteAction(c))}),l()()}if(e&2){let t=s().$implicit,a=s().$implicit;b(t.class_td),r(),d("disabled",a.id),r(),d("disabled",!a.id)}}function wt(e,i){if(e&1&&(n(0,"td"),_(1),l()),e&2){let t=s().$implicit,a=s().$implicit;b(t.class_td),r(),A(" ",a[t.field]," ")}}function Lt(e,i){if(e&1&&v(0,vt,2,3,"td",12)(1,At,2,3,"td",12)(2,xt,3,4,"td",12)(3,wt,2,3,"td",12),e&2){let t,a=i.$implicit;B((t=a.type)==="number"?0:t==="custom"?1:t==="action"?2:3)}}function Rt(e,i){if(e&1&&(n(0,"tr",11),z(1,Lt,4,1,null,null,N),l()),e&2){let t=i.$implicit,a=i.columns;d("pSelectableRow",t),r(),O(a)}}function Tt(e,i){if(e&1&&(n(0,"tr")(1,"td",16),_(2,"Data Kosong"),l()()),e&2){let t=s();r(),V("colspan",t.attitudeSkillStore.$cols().length)}}var I=class e{attitudeSkillStore=$(u);onAddReference(){}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=h({type:e,selectors:[["app-attitude-skill-list"]],standalone:!0,features:[g],decls:13,vars:12,consts:[["dt",""],["header",""],["body",""],["emptymessage",""],[1,"grid","gap-4"],[1,"grid","grid-cols-4","grid-flow-rows","gap-2"],["label","+ Add Reference","styleClass","w-full !h-full",1,"col-start-4","col-end-5",3,"click"],[3,"onLazyLoad","columns","value","loading","paginator","rows","rowsPerPageOptions","paginatorDropdownAppendTo","lazy","totalRecords"],[3,"blocked","target"],["class","!text-center",4,"ngFor","ngForOf"],[1,"!text-center"],[3,"pSelectableRow"],[3,"class"],[3,"outerHTML"],["styleClass","p-button-info","label","Edit","pTooltip","Edit Category",3,"click","disabled"],["styleClass","p-button-danger","label","Delete","pTooltip","Delete Category",3,"click","disabled"],[1,"!text-center","w-full"]],template:function(t,a){if(t&1){let c=F();n(0,"div",4),p(1,"app-attitude-skill-search"),n(2,"div",5)(3,"p-button",6),m("click",function(){return k(c),C(a.onAddReference())}),l()(),n(4,"p-table",7,0),m("onLazyLoad",function(ht){return k(c),C(a.attitudeSkillStore.onLazyLoad(ht))}),v(6,$t,2,1,"ng-template",null,1,x)(8,Rt,3,1,"ng-template",null,2,x)(10,Tt,3,1,"ng-template",null,3,x),l()(),p(12,"p-blockui",8)}if(t&2){let c=P(5),f=P(9);r(4),d("columns",a.attitudeSkillStore.$cols())("value",a.attitudeSkillStore.$dataList())("loading",a.attitudeSkillStore.$dataLoading())("paginator",!0)("rows",5)("rowsPerPageOptions",H(11,bt))("paginatorDropdownAppendTo",f)("lazy",!0)("totalRecords",a.attitudeSkillStore.$totalRowCount()),r(8),d("blocked",a.attitudeSkillStore.$disabledTable())("target",c)}},dependencies:[L,w,dt,pt,U,mt,Q,D]})};var _t=class e{constructor(){}ngOnInit(){}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=h({type:e,selectors:[["app-attitude-skill-reference"]],standalone:!0,features:[G([u]),g],decls:3,vars:0,consts:[["header","Attitude Reference",1,"blue"],[1,"mt-6"]],template:function(t,a){t&1&&(n(0,"p-panel",0)(1,"div",1),p(2,"app-attitude-skill-list"),l()())},dependencies:[L,Z,I]})};export{_t as AttitudeSkillReferenceComponent};
