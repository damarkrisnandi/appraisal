import{g as ne}from"./chunk-7U4M7FLE.js";import{a as W,b as de}from"./chunk-RJMUXU55.js";import{E as K,j as M,o as U,p as J}from"./chunk-U6B3OBXK.js";import{m as z,o as H}from"./chunk-IR44L2GU.js";import{a as ee}from"./chunk-OQKDZ6KP.js";import{a as ce}from"./chunk-CH6NKNWW.js";import{b as q,c as _,e as O,f as G,h,k as B,l as Q,n as pe}from"./chunk-PT3WFG3U.js";import{a as ae}from"./chunk-MQPYQJ3G.js";import{a as me}from"./chunk-6SLXRUYG.js";import{ka as re,oa as le,sa as N,va as se}from"./chunk-RKZRWIXU.js";import{m as E}from"./chunk-O2IJJLQI.js";import{Ab as u,Bb as f,Kb as D,Lb as p,Mb as y,Nb as A,Pa as s,Tb as F,Ub as $,Ya as r,_ as L,a as oe,b as ie,da as C,ea as S,eb as P,ec as j,hb as g,ia as k,mb as x,pb as R,qb as I,rb as a,sa as m,sb as n,ta as d,tb as b,uc as V,xb as T}from"./chunk-ZIXU4GN5.js";var be=(t,e)=>e.field,Te=()=>({"min-width":"50rem"}),ye=()=>[5,10,20];function $e(t,e){t&1&&(a(0,"tr")(1,"td",12)(2,"div"),p(3,"Loading data..."),n()()())}function je(t,e){if(t&1&&(a(0,"th",14),p(1),n()),t&2){let o=e.$implicit;s(),A(" ",o.header," ")}}function ve(t,e){if(t&1&&(a(0,"tr"),P(1,je,2,1,"th",13),a(2,"th"),p(3," Action "),n()()),t&2){let o=e.$implicit;s(),g("ngForOf",o)}}function we(t,e){if(t&1&&(a(0,"td",17),p(1),n()),t&2){let o=f().$implicit,i=f().$implicit;s(),y(i[o.field])}}function Le(t,e){if(t&1&&(a(0,"td"),p(1),n()),t&2){let o=f().$implicit,i=f().$implicit;s(),y(i[o.field])}}function ke(t,e){if(t&1&&P(0,we,2,1,"td",17)(1,Le,2,1,"td"),t&2){let o=e.$implicit;x(o.format==="center"?0:1)}}function xe(t,e){if(t&1){let o=T();a(0,"tr",15),R(1,ke,2,1,null,null,be),a(3,"td")(4,"p-button",16),u("onClick",function(){let l=m(o).$implicit,c=f();return d(c.pilih(l))}),n()()()}if(t&2){let o=e.$implicit,i=e.columns;g("pSelectableRow",o),s(),I(i)}}var X=class t{templateProjectStore=S(v);ref=S(W);visibleViewLookup=!1;batal(){this.ref.close()}pilih(e){this.ref.close(e)}static \u0275fac=function(o){return new(o||t)};static \u0275cmp=k({type:t,selectors:[["app-indicator-lookup"]],standalone:!0,features:[F],decls:19,vars:13,consts:[["header",""],["body",""],[1,"grid","grid-cols-12","gap-4",3,"formGroup"],[1,"col-span-2"],[1,"col-span-7"],["type","text","pInputText","","formControlName","searchText",1,"w-full"],[1,"col-span-1"],["label","Search",3,"onClick"],["label","Reset",3,"onClick"],["stripedRows","","showGridlines","",3,"onLazyLoad","value","tableStyle","columns","loading","lazy","paginator","rows","rowsPerPageOptions","paginatorDropdownAppendTo","totalRecords"],["pTemplate","loadingbody"],["label","Batal",3,"onClick"],["colspan","9",1,"text-center"],["class","!text-center",4,"ngFor","ngForOf"],[1,"!text-center"],[3,"pSelectableRow"],["label","Pilih",3,"onClick"],[2,"text-align","center"]],template:function(o,i){if(o&1){let l=T();a(0,"p-panel")(1,"div",2)(2,"div",3)(3,"label"),p(4,"Search Questionnaire"),n()(),a(5,"div",4),b(6,"input",5),n(),a(7,"div",6)(8,"p-button",7),u("onClick",function(){return m(l),d(i.templateProjectStore.onClickSearch())}),n()(),a(9,"div",6)(10,"p-button",8),u("onClick",function(){return m(l),d(i.templateProjectStore.onClickResetSearch())}),n()()(),b(11,"br"),a(12,"p-table",9),u("onLazyLoad",function(w){return m(l),d(i.templateProjectStore.onLazyLoadAttitude(w))}),P(13,$e,4,0,"ng-template",10)(14,ve,4,1,"ng-template",null,0,j)(16,xe,5,1,"ng-template",null,1,j),n(),a(18,"p-button",11),u("onClick",function(){return m(l),d(i.batal())}),n()()}if(o&2){let l=D(17);s(),g("formGroup",i.templateProjectStore.$searchIndicator()),s(11),g("value",i.templateProjectStore.templateProject.$dataListAttitude())("tableStyle",$(11,Te))("columns",i.templateProjectStore.templateProject.$attitudeCols())("loading",i.templateProjectStore.templateProject.$dataLoading())("lazy",!0)("paginator",!0)("rows",5)("rowsPerPageOptions",$(12,ye))("paginatorDropdownAppendTo",l)("totalRecords",i.templateProjectStore.templateProject.$totalRowCount())}},dependencies:[K,M,N,q,O,G,H,z,U,J,E,B,Q]})};var Re=(t,e)=>e.field,Ie=()=>({"min-width":"50rem"}),De=()=>[5,10,20];function Ae(t,e){t&1&&(a(0,"tr")(1,"td",12)(2,"div"),p(3,"Loading data..."),n()()())}function Fe(t,e){if(t&1&&(a(0,"th",14),p(1),n()),t&2){let o=e.$implicit;s(),A(" ",o.header," ")}}function Ve(t,e){if(t&1&&(a(0,"tr"),P(1,Fe,2,1,"th",13),a(2,"th"),p(3," Action "),n()()),t&2){let o=e.$implicit;s(),g("ngForOf",o)}}function Ee(t,e){if(t&1&&(a(0,"td",17),p(1),n()),t&2){let o=f().$implicit,i=f().$implicit;s(),y(i[o.field])}}function Ne(t,e){if(t&1&&(a(0,"td"),p(1),n()),t&2){let o=f().$implicit,i=f().$implicit;s(),y(i[o.field])}}function ze(t,e){if(t&1&&P(0,Ee,2,1,"td",17)(1,Ne,2,1,"td"),t&2){let o=e.$implicit;x(o.format==="center"?0:1)}}function Me(t,e){if(t&1){let o=T();a(0,"tr",15),R(1,ze,2,1,null,null,Re),a(3,"td")(4,"p-button",16),u("onClick",function(){let l=m(o).$implicit,c=f();return d(c.pilih(l))}),n()()()}if(t&2){let o=e.$implicit,i=e.columns;g("pSelectableRow",o),s(),I(i)}}var Y=class t{templateProjectStore=S(v);ref=S(W);visibleViewLookup=!1;batal(){this.ref.close()}pilih(e){this.ref.close(e)}static \u0275fac=function(o){return new(o||t)};static \u0275cmp=k({type:t,selectors:[["app-tools-lookup"]],standalone:!0,features:[F],decls:19,vars:13,consts:[["header",""],["body",""],[1,"grid","grid-cols-12","gap-4",3,"formGroup"],[1,"col-span-2"],[1,"col-span-7"],["type","text","pInputText","","formControlName","searchText",1,"w-full"],[1,"col-span-1"],["label","Search",3,"onClick"],["label","Reset",3,"onClick"],["stripedRows","","showGridlines","",3,"onLazyLoad","value","tableStyle","columns","loading","lazy","paginator","rows","rowsPerPageOptions","paginatorDropdownAppendTo","totalRecords"],["pTemplate","loadingbody"],["label","Batal",3,"onClick"],["colspan","9",1,"text-center"],["class","!text-center",4,"ngFor","ngForOf"],[1,"!text-center"],[3,"pSelectableRow"],["label","Pilih",3,"onClick"],[2,"text-align","center"]],template:function(o,i){if(o&1){let l=T();a(0,"p-panel")(1,"div",2)(2,"div",3)(3,"label"),p(4,"Search Questionnaire"),n()(),a(5,"div",4),b(6,"input",5),n(),a(7,"div",6)(8,"p-button",7),u("onClick",function(){return m(l),d(i.templateProjectStore.onClickSearch())}),n()(),a(9,"div",6)(10,"p-button",8),u("onClick",function(){return m(l),d(i.templateProjectStore.onClickResetSearch())}),n()()(),b(11,"br"),a(12,"p-table",9),u("onLazyLoad",function(w){return m(l),d(i.templateProjectStore.onLazyLoadTechnical(w))}),P(13,Ae,4,0,"ng-template",10)(14,Ve,4,1,"ng-template",null,0,j)(16,Me,5,1,"ng-template",null,1,j),n(),a(18,"p-button",11),u("onClick",function(){return m(l),d(i.batal())}),n()()}if(o&2){let l=D(17);s(),g("formGroup",i.templateProjectStore.$searchIndicator()),s(11),g("value",i.templateProjectStore.templateProject.$dataListTechnical())("tableStyle",$(11,Ie))("columns",i.templateProjectStore.templateProject.$techCols())("loading",i.templateProjectStore.templateProject.$dataLoading())("lazy",!0)("paginator",!0)("rows",5)("rowsPerPageOptions",$(12,De))("paginatorDropdownAppendTo",l)("totalRecords",i.templateProjectStore.templateProject.$totalRowCount())}},dependencies:[K,M,N,q,O,G,H,z,U,J,E,B,Q]})};var qe=ce.APPRAISAL_API_URL+"/template-project-assessment",Z=class t{constructor(e){this.http=e}list(e){return this.http.post(qe+"/list",e)}static \u0275fac=function(o){return new(o||t)(C(ae))};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})};var v=class t{constructor(e,o,i,l,c,w){this.spinnerService=e;this.dialogService=o;this.messageService=i;this.router=l;this.confirmationService=c;this.templateProjectAssessmentsService=w;this.init()}fb=S(pe);state={templateProject:{$dataList:r([]),$dataListAttitude:r([]),$dataListTechnical:r([]),$dataLoading:r(!1),$pagingInfo:r(new ee),$totalRowCount:r(1),$selectedData:r(null),$selectedVerified:r(!0),$disabledTable:r(!1),$optionsCategory:r([]),$optionDepartment:r([]),$selectedCategory:r(null),$searchText:r(""),$searchBtnClickEvent:r(!1)},$formMode:r("idle"),$loading:r(!1)};$firstForm=r(this.fb.group({noTemplate:new h({value:null,disabled:!1},[_.required]),department:new h({value:"",disabled:!1},[_.required]),posisi:new h({value:"",disabled:!1},[_.required]),level:new h({value:null,disabled:!1},[_.required]),division:new h({value:null,disabled:!0},[_.required]),status:new h({value:null,disabled:!0},[_.required]),category:new h({value:null,disabled:!0},[_.required]),indicator:new h({value:null,disabled:!0},[_.required]),tools:new h({value:null,disabled:!0},[_.required])})).asReadonly();$searchIndicator=r(this.fb.group({searchText:new h({value:"",disabled:!1},[_.required])})).asReadonly();templateProject={$dataList:this.state.templateProject.$dataList.asReadonly(),$dataListAttitude:this.state.templateProject.$dataListAttitude.asReadonly(),$dataListTechnical:this.state.templateProject.$dataListTechnical.asReadonly(),$dataLoading:this.state.templateProject.$dataLoading.asReadonly(),$selectedData:this.state.templateProject.$selectedData.asReadonly(),$cols:r([{field:"no",header:"No",class_td:"!text-center !max-w-[50px]",type:"no"},{field:"noTemplate",header:"No Template",class_td:"!text-center"},{field:"department",header:"Department",class_td:"!text-center"},{field:"position",header:"Position",class_td:"!text-center"},{field:"level",header:"Level",class_td:"!text-center"},{field:"status",header:"Status",class_td:"!text-center"},{field:"action",header:"Actions",class_td:"flex justify-center items-center gap-2",type:"action"}]).asReadonly(),$attitudeCols:r([{field:"no",header:"No",class_td:"!text-center !max-w-[50px]",type:"no"},{field:"category",header:"Category",class_td:"!text-center"},{field:"indicator",header:"Indicator",class_td:"!text-center"},{field:"typeAnswer",header:"Type of Answer",class_td:"!text-center"},{field:"action",header:"Actions",class_td:"flex justify-center items-center gap-2",type:"action"}]).asReadonly(),$techCols:r([{field:"no",header:"No",class_td:"!text-center !max-w-[50px]",type:"no"},{field:"category",header:"Category",class_td:"!text-center"},{field:"tools",header:"Tools",class_td:"!text-center"},{field:"typeAnswer",header:"Type of Answer",class_td:"!text-center"},{field:"action",header:"Actions",class_td:"flex justify-center items-center gap-2",type:"action"}]).asReadonly(),$pagingInfo:this.state.templateProject.$pagingInfo.asReadonly(),$totalRowCount:this.state.templateProject.$totalRowCount.asReadonly(),$optionsCategory:this.state.templateProject.$optionsCategory.asReadonly(),$optionDepartment:this.state.templateProject.$optionDepartment.asReadonly(),$selectedCategory:this.state.templateProject.$selectedCategory.asReadonly(),$searchText:V(()=>this.templateProject.$selectedCategory()==="id"?parseInt(this.state.templateProject.$searchText()):this.state.templateProject.$searchText()),$filter:V(()=>{let e=null;return this.templateProject.$searchText()&&(e={noTemplate:this.templateProject.$searchText()}),e}),$disabledTable:V(()=>this.state.$formMode()=="update")};$formMode=this.state.$formMode.asReadonly();ref;init(){this.setSpinner(),this.setSearchCategory(),this.populateList()}setSpinner(){me(this.state.$loading).subscribe(e=>e?this.spinnerService.show():this.spinnerService.hide())}populateList(){this.state.templateProject.$dataLoading.set(!0);let e={wrapper:this.templateProject.$filter(),pagingInfo:this.state.templateProject.$pagingInfo(),totalRowCount:this.state.templateProject.$totalRowCount()};this.templateProjectAssessmentsService.list(e).subscribe(o=>{o.status&&(this.state.templateProject.$dataList.set(o.object.dataList||[]),this.state.templateProject.$totalRowCount.set(o.object.totalRowCount||0),this.state.templateProject.$pagingInfo.set(o.object.pagingInfo||new ee)),this.state.templateProject.$dataLoading.set(!1)},o=>{console.error("Error fetching Template Projects:",o),this.state.templateProject.$dataList.set([]),this.state.templateProject.$totalRowCount.set(0),this.state.templateProject.$dataLoading.set(!1)})}onLazyLoad(e){this.state.templateProject.$pagingInfo.set(ie(oe({},this.templateProject.$pagingInfo()),{currentPage:Math.floor(e.first/e.rows)+1,pageSize:e.rows})),this.populateList()}onLazyLoadAttitude(e){}onLazyLoadTechnical(e){}setSearchCategory(){this.state.templateProject.$optionsCategory.set([{label:"Semua",value:null},{label:"Template",value:"template"}])}onSearchBtnClicked({category:e,search:o}){this.state.templateProject.$selectedCategory.set(e),e&&this.state.templateProject.$searchText.set(o),this.populateList()}setOptionDirektorat(){}addAction(){this.state.$formMode.set("add")}deleteAction(e){}editAction(e){}onClickLookupIndicator(){this.ref=this.dialogService.open(X,{header:"Lookup Attitude Question",modal:!0}),this.ref.onClose.subscribe(()=>{console.log("closed")})}onClickLookupTools(){this.ref=this.dialogService.open(Y,{header:"Lookup Skill Question",modal:!0}),this.ref.onClose.subscribe(()=>{console.log("closed")})}onClickSearch(){}onClickResetSearch(){this.$searchIndicator().patchValue({searchText:""}),this.populateList()}onRefreshSearchClicked({search:e}){this.state.templateProject.$searchText.set(e),this.populateList()}saveAction(){}cancelAction(){this.state.$formMode.set("idle")}static \u0275fac=function(o){return new(o||t)(C(se),C(de),C(le),C(ne),C(re),C(Z))};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})};export{Y as a,v as b,X as c};
