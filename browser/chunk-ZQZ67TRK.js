import{g as we}from"./chunk-REFMHAKZ.js";import{a as se,b as re}from"./chunk-D2DQFAJA.js";import{A as Be,B as Ge,C as b,g as Le,l as X,r as Ne,t as je,u as Oe,v as Ue,y as Ve}from"./chunk-IASCCSKW.js";import"./chunk-ZY2XEEFJ.js";import{b as oe}from"./chunk-ID5XGVUQ.js";import{k as Ae,l as F}from"./chunk-3N6CWGCP.js";import"./chunk-4YRY4IP2.js";import"./chunk-CKH6MXIN.js";import"./chunk-ZM3QWDCU.js";import"./chunk-VP5IOBEZ.js";import{a as fe}from"./chunk-OQKDZ6KP.js";import{a as Ee,c as Y,f as L,g as Z,h as ee,i as A,j as Ie,k as te,l as ie}from"./chunk-CXEROHL4.js";import{a as De}from"./chunk-XYMFY6KF.js";import{ka as ke,oa as Te,sa as Fe,va as Me,wa as j}from"./chunk-GJCIPXRX.js";import{A as be,Dc as J,G as Ce,Gb as ue,H as Se,Hb as h,I as Re,J as Pe,Jb as x,Ka as $e,Kc as Q,O as ye,Oa as a,Ob as xe,Pa as ce,Pb as _,Qb as W,U as ve,W as pe,Xa as l,Z as G,a as E,ac as q,b as I,bb as S,ca as y,da as C,db as T,eb as p,ha as g,ib as v,jb as $,kb as z,mb as H,mc as R,nb as K,ob as n,pb as s,qb as d,ra as w,sa as k,ub as de,v as N,vb as f,wb as m}from"./chunk-5OT5OU7P.js";var O=class i{rolePermissionStore=C(u);ref=C(se);roleForm=new ee({name:new A({value:null,disabled:!0}),notes:new A({value:null,disabled:!0})});selectedDataSubscription;formModeSubscribtion;constructor(){this.selectedDataSubscription=j(this.rolePermissionStore.roles.$selectedData).subscribe(e=>{this.roleForm.patchValue({name:this.rolePermissionStore.roles.$selectedData()?.name,notes:this.rolePermissionStore.roles.$selectedData()?.notes})}),this.formModeSubscribtion=j(this.rolePermissionStore.roles.$formMode).subscribe(e=>{switch(e){case"add":this.roleForm.enable();break;case"edit":this.roleForm.enable();break;case"idle":this.roleForm.disable();break;default:break}})}cancel(){this.rolePermissionStore.cancelAction(),this.ref.close()}save(){this.rolePermissionStore.saveAction(this.roleForm.value)?.subscribe(e=>{e.status&&this.ref.close(e)})}ngOnDestroy(){this.roleForm.reset(),this.selectedDataSubscription.unsubscribe(),this.formModeSubscribtion.unsubscribe()}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=g({type:i,selectors:[["app-role-crud"]],standalone:!0,features:[_],decls:13,vars:3,consts:[[1,"w-full","flex","flex-col","space-y-2"],[1,"flex","flex-col","space-y-1","mb-2",3,"formGroup"],[1,"grid","grid-cols-12","gap-2","items-center"],["for","name",1,"col-span-12","md:col-span-2"],["pInputText","","formControlName","name","name","name",1,"col-span-8","md:col-span-10","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],["for","notes",1,"col-span-12","md:col-span-2"],["pInputText","","formControlName","notes","name","notes",1,"col-span-8","md:col-span-10","bg-gray-50","border","border-gray-300","text-gray-900","rounded-lg","focus:ring-primary-600","focus:border-primary-600","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500"],[1,"flex","justify-end","space-x-1"],["label","Save",3,"click","disabled"],["label","Cancel","styleClass","p-button-danger",3,"click","disabled"]],template:function(t,o){t&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),h(4,"Role Name"),s(),d(5,"input",4),s(),n(6,"div",2)(7,"label",5),h(8,"Note"),s(),d(9,"input",6),s()(),n(10,"div",7)(11,"p-button",8),f("click",function(){return o.save()}),s(),n(12,"p-button",9),f("click",function(){return o.cancel()}),s()()()),t&2&&(a(),p("formGroup",o.roleForm),a(10),p("disabled",o.rolePermissionStore.roles.$disabledSave()),a(),p("disabled",o.rolePermissionStore.roles.$disabledCancel()))},dependencies:[b,Y,L,Z,oe,F,te,ie]})};var Ke=Ee.APPRAISAL_API_URL,V=Ke+"/roles",He=Ke+"/feature",M=class i{constructor(e){this.http=e}addRole(e){return this.http.post(V+"/addRole",e)}editRole(e){return this.http.post(V+"/editRole/"+e?.id,{name:e?.name,notes:e?.notes})}deleteRole(e){return this.http.delete(V+`/delete/${e?.id??""}`)}listRoles(e){return this.http.post(V+"/listRoles",e).pipe(Pe(t=>(console.log("error",t),N({status:!1,message:t.message,object:null}))))}findAllFeature(){return this.http.get(He+"/findAll")}getAllFeaturePermissions(){return this.http.get(He+"/getAllFeaturePermissions")}getAllMappingFeaturePermissions(e){return this.http.get(V+`/role-feature/${e}/feature-permissions`)}static \u0275fac=function(t){return new(t||i)(y(De))};static \u0275prov=G({token:i,factory:i.\u0275fac,providedIn:"root"})};var u=class i{constructor(e,t,o,r,c,P){this.spinnerService=e;this.rolePermissionService=t;this.dialogService=o;this.messageService=r;this.router=c;this.confirmationService=P;this.init()}state={roles:{$dataList:l([]),$dataLoading:l(!1),$pagingInfo:l(new fe),$totalRowCount:l(1),$selectedData:l(null),$selectedVerified:l(!0),$loading:l(!1),$disabledTable:l(!1),$optionsCategory:l([]),$selectedCategory:l(""),$searchText:l(""),$searchBtnClickEvent:l(!1),$optionsRole:l([]),$disabledUpdate:l(!0),$disabledSave:l(!0),$disabledCancel:l(!0)},permissions:{$colsCheckbox:l([{field:"list",header:"List",viewCheckbox:"isList"},{field:"view",header:"View",viewCheckbox:"isView"},{field:"add",header:"Add",viewCheckbox:"isAdd"},{field:"update",header:"Update",viewCheckbox:"isUpdate"},{field:"delete",header:"Delete",viewCheckbox:"isDelete"},{field:"print",header:"Print",viewCheckbox:"isPrint"}]),$listFilter:l([]),$dataList:l([]),$permissions:l([])},$formMode:l("idle")};roles={$dataList:this.state.roles.$dataList.asReadonly(),$dataLoading:this.state.roles.$dataLoading.asReadonly(),$selectedData:this.state.roles.$selectedData.asReadonly(),$cols:l([{field:"no",header:"No",class_td:"!text-center !max-w-[50px]",type:"no"},{field:"name",header:"Role",class_td:"!text-center"},{field:"notes",header:"Note",class_td:"!text-center"},{field:"action",header:"Actions",class_td:"flex justify-center items-center gap-2",type:"action"}]).asReadonly(),$pagingInfo:this.state.roles.$pagingInfo.asReadonly(),$totalRowCount:this.state.roles.$totalRowCount.asReadonly(),$optionsCategory:this.state.roles.$optionsCategory.asReadonly(),$selectedCategory:this.state.roles.$selectedCategory.asReadonly(),$searchText:R(()=>this.roles.$selectedCategory()==="id"?parseInt(this.state.roles.$searchText()):this.state.roles.$searchText()),$filter:R(()=>{let e=null;return this.roles.$selectedCategory()&&(e={},e[this.roles.$selectedCategory()??""]=this.roles.$searchText()??""),e}),$optionsRole:this.state.roles.$optionsRole.asReadonly(),$disabledUpdate:R(()=>this.state.roles.$disabledUpdate()||this.state.$formMode()=="edit"),$disabledSave:R(()=>this.state.roles.$disabledSave()&&this.state.$formMode()=="idle"),$disabledCancel:R(()=>this.state.roles.$disabledCancel()&&this.state.$formMode()=="idle"),$disabledTable:R(()=>this.state.$formMode()=="edit"),$formMode:this.state.$formMode.asReadonly()};permissions={$colsCheckbox:this.state.permissions.$colsCheckbox.asReadonly(),$dataList:this.state.permissions.$dataList.asReadonly(),$permissions:this.state.permissions.$permissions.asReadonly(),$listFilter:R(()=>this.buildTree(this.state.permissions.$dataList()))};ref;dialogOptions={modal:!0,styleClass:"w-11/12 md:w-5/12"};init(){this.setSpinner(),this.setSearchCategory(),this.populateList(),this.onGenerateRoleOptions()}setSpinner(){j(this.state.roles.$loading).subscribe(e=>e?this.spinnerService.show():this.spinnerService.hide())}populateList(){this.state.roles.$dataLoading.set(!0);let e={wrapper:this.roles.$filter(),pagingInfo:this.state.roles.$pagingInfo(),totalRowCount:this.state.roles.$totalRowCount()};this.rolePermissionService.listRoles(e).subscribe(t=>{t.status&&(this.state.roles.$pagingInfo.set(t.object.pagingInfo||new fe),this.state.roles.$dataList.set(t.object.dataList||[]),this.state.roles.$totalRowCount.set(t.object.totalRowCount||0)),this.state.roles.$dataLoading.set(!1)})}onLazyLoad(e){this.state.roles.$pagingInfo.set(I(E({},this.roles.$pagingInfo()),{currentPage:Math.floor(e.first/e.rows)+1,pageSize:e.rows})),this.populateList()}onSetSelected(e){this.state.roles.$selectedData.set(e)}setSearchCategory(){this.state.roles.$optionsCategory.set([{label:"Semua",value:null},{label:"Role",value:"name"},{label:"Note",value:"notes"}])}onSearchBtnClicked({category:e,search:t}){this.state.roles.$selectedCategory.set(e),e&&this.state.roles.$searchText.set(t),this.populateList()}onGenerateRoleOptions(){let e=[{label:"HR",value:1},{label:"Manager",value:2},{label:"Supervisor",value:3},{label:"Staff",value:4}];this.state.roles.$optionsRole.set(e)}deleteAction(e){this.state.roles.$selectedData.set(e),this.confirmationService.confirm({header:"Konfirmasi",message:"Apakah Anda yakin ingin menghapus data ini?",accept:()=>{this.rolePermissionService.deleteRole(e).subscribe(t=>{if(t.status){let o=`Hapus Role [${this.roles.$selectedData()?.name}] Berhasil!`;this.messageService.add({severity:"success",summary:"Success",detail:o}),this.state.$formMode.set("idle"),this.state.roles.$selectedData.set(null)}else this.messageService.add({severity:"error",summary:"Error",detail:t.message});this.populateList()})},reject:()=>{}})}setFormMode(e){this.state.$formMode.set(e)}addAction(){this.state.$formMode.set("add"),this.ref=this.dialogService.open(O,I(E({},this.dialogOptions),{header:"Add Role"})),this.onCloseDialogEvent()}editAction(e){this.state.roles.$selectedData.set(e),this.state.$formMode.set("edit"),this.ref=this.dialogService.open(O,I(E({},this.dialogOptions),{header:"Edit Role"})),this.onCloseDialogEvent()}onCloseDialogEvent(){this.ref?.onClose.subscribe(e=>{e&&this.populateList(),this.state.$formMode.set("idle")})}saveAction({name:e,notes:t}){if(this.spinnerService.setSpinnerStyle({"z-index":"9999"}),this.state.roles.$loading.set(!0),!e)return this.messageService.add({severity:"error",summary:"Error",detail:"Nama Role harus diisi!"}),this.state.roles.$loading.set(!1),N({status:!1});if(!t)return this.messageService.add({severity:"error",summary:"Error",detail:"Note harus diisi!"}),this.state.roles.$loading.set(!1),N({status:!1});let o=I(E({},this.state.roles.$selectedData()),{name:e,notes:t});return Se(100).pipe(Re(()=>this.state.$formMode()!="idle"),ve(()=>Ce(()=>this.state.$formMode()=="edit",this.rolePermissionService.editRole(o),this.rolePermissionService.addRole(o))),pe(r=>{if(r.status){let c=this.state.$formMode()=="edit"?"Edit Role Berhasil!":"Simpan Role Berhasil";this.messageService.add({severity:"success",summary:"Success",detail:c}),this.state.$formMode.set("idle"),this.state.roles.$selectedData.set(null)}else this.messageService.add({severity:"error",summary:"Error",detail:r.message});this.state.roles.$loading.set(!1)}),ye(()=>{this.state.roles.$loading.set(!1)}))}cancelAction(){this.state.$formMode.set("idle"),this.state.roles.$selectedData.set(null)}assignAction(e){this.state.roles.$selectedData.set(e),this.state.$formMode.set("assign"),console.log("assignAction",e)}backToRolePage(){this.state.roles.$selectedData.set(null),this.state.permissions.$dataList.set([]),this.state.permissions.$listFilter.set([]),this.state.permissions.$permissions.set([]),this.state.$formMode.set("idle")}loadPermissionData(){be([this.rolePermissionService.getAllFeaturePermissions(),this.rolePermissionService.getAllMappingFeaturePermissions(this.roles.$selectedData()?.id??0)]).pipe(pe(([e,t])=>{e.status&&t.status&&(this.state.permissions.$dataList.set(e.object),this.state.permissions.$permissions.set(t.object))})).subscribe()}buildTree(e){let t=new Map;e.forEach(r=>{let c=`${r.feature.pathOrder}-${r.feature.name}`,P={data:{feature:r.feature.name,featureAssign:!1,isList:r.permission.includes("LIST"),list:!1,isView:r.permission.includes("VIEW"),view:!1,isAdd:r.permission.includes("ADD"),add:!1,isUpdate:r.permission.includes("UPDATE"),update:!1,isDelete:r.permission.includes("DELETE"),delete:!1,isPrint:r.permission.includes("PRINT"),print:!1},children:[],expanded:!0};t.set(c,P)}),this.state.permissions.$permissions().forEach(r=>{let c=Array.from(t.values()).find(P=>P.data.feature===r.featureName);c&&(c.data.featureAssign=!0,c.data[r.permissionName.split("_")[0].toLowerCase()]=!0)});let o=[];return t.forEach((r,c)=>{let P=c.split("-")[0],ge=P.substring(0,P.lastIndexOf("."));if(ge){let _e=Array.from(t.keys()).find(B=>B.startsWith(ge));if(_e){let B=t.get(_e);B&&B.children?.push(r)}}else o.push(r)}),o}saveAssignment(){}static \u0275fac=function(t){return new(t||i)(y(Me),y(M),y(re),y(Te),y(we),y(ke))};static \u0275prov=G({token:i,factory:i.\u0275fac})};var ne=class i{rolePermissionStore=C(u);category=this.rolePermissionStore.roles.$optionsCategory();selectedCategory=this.rolePermissionStore.roles.$selectedCategory();search=this.rolePermissionStore.roles.$searchText();searchForm=new ee({category:new A({value:null,disabled:!1}),search:new A({value:"",disabled:!0})});tempSearch={category:null,search:""};constructor(){this.onCategoryChanges(),this.onSearchChanges()}onCategoryChanges(){this.searchForm.controls.category.valueChanges.subscribe(e=>{this.tempSearch.category=e,this.searchForm.get("search")?.reset(),e?this.searchForm.get("search")?.enable():this.searchForm.get("search")?.disable()})}onSearchChanges(){this.searchForm.controls.search.valueChanges.subscribe(e=>{this.tempSearch.search=e})}onButtonClicked(){this.rolePermissionStore.onSearchBtnClicked(this.tempSearch)}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=g({type:i,selectors:[["app-role-permission-search"]],standalone:!0,features:[_],decls:4,vars:2,consts:[[1,"grid","grid-cols-6","grid-flow-rows","gap-2",3,"formGroup"],["styleClass","col-span-6 md:col-span-1","formControlName","category","name","category","appendTo","body",3,"options"],["pInputText","","formControlName","search","name","search",1,"col-span-5","md:col-span-4"],["pButton","","icon","pi pi-search",1,"!h-full","p-button-primary",3,"click"]],template:function(t,o){t&1&&(n(0,"div",0),d(1,"p-select",1)(2,"input",2),n(3,"button",3),f("click",function(){return o.onButtonClicked()}),s()()),t&2&&(p("formGroup",o.searchForm),a(),p("options",o.rolePermissionStore.roles.$optionsCategory()))},dependencies:[b,Y,L,Z,oe,Ne,Ae,te,ie]})};var Ze=()=>[5,10,20];function et(i,e){if(i&1&&(n(0,"th",10),h(1),s()),i&2){let t=e.$implicit;a(),x(" ",t.header," ")}}function tt(i,e){if(i&1&&(n(0,"tr"),S(1,et,2,1,"th",9),s()),i&2){let t=e.$implicit;a(),p("ngForOf",t)}}function it(i,e){if(i&1&&(n(0,"td"),d(1,"div",13),s()),i&2){let t=m().$implicit,o=m().$implicit;v(t.class_td),a(),p("outerHTML",t.template(o[t.field]),$e)}}function ot(i,e){if(i&1){let t=de();n(0,"td")(1,"p-button",14),f("click",function(){w(t);let r=m(2).$implicit,c=m();return k(c.rolePermissionStore.deleteAction(r))}),s(),n(2,"p-button",15),f("click",function(){w(t);let r=m(2).$implicit,c=m();return k(c.rolePermissionStore.editAction(r))}),s(),n(3,"p-button",16),f("click",function(){w(t);let r=m(2).$implicit,c=m();return k(c.rolePermissionStore.assignAction(r))}),s()()}if(i&2){let t=m().$implicit;v(t.class_td)}}function st(i,e){if(i&1&&(n(0,"td"),h(1),s()),i&2){let t=m().$implicit,o=m().rowIndex;v(t.class_td),a(),x(" ",o+1," ")}}function rt(i,e){if(i&1&&(n(0,"td"),h(1),s()),i&2){let t=m().$implicit,o=m().$implicit;v(t.class_td),a(),x(" ",o[t.field]," ")}}function nt(i,e){if(i&1&&S(0,it,2,3,"td",12)(1,ot,4,2,"td",12)(2,st,2,3,"td",12)(3,rt,2,3,"td",12),i&2){let t,o=e.$implicit;$((t=o.type)==="custom"?0:t==="action"?1:t==="no"?2:3)}}function at(i,e){if(i&1&&(n(0,"tr",11),H(1,nt,4,1,null,null,z),s()),i&2){let t=e.$implicit,o=e.columns;p("pSelectableRow",t),a(),K(o)}}function lt(i,e){if(i&1&&(n(0,"tr")(1,"td",17),h(2,"Data Kosong"),s()()),i&2){let t=m();a(),T("colspan",t.rolePermissionStore.roles.$cols().length)}}var ae=class i{rolePermissionStore=C(u);static \u0275fac=function(t){return new(t||i)};static \u0275cmp=g({type:i,selectors:[["app-role-permission-list"]],standalone:!0,features:[_],decls:13,vars:12,consts:[["dt",""],["header",""],["body",""],["emptymessage",""],[1,"card"],[1,"flex","justify-end","items-center","gap-1","flex-col","md:flex-row","mb-2"],["styleClass","p-button-contrast w-full","icon","pi pi-plus","label","Tambah Role",3,"click"],[3,"onLazyLoad","columns","value","loading","paginator","rows","rowsPerPageOptions","paginatorDropdownAppendTo","lazy","totalRecords"],[3,"blocked","target"],["class","!text-center",4,"ngFor","ngForOf"],[1,"!text-center"],[3,"pSelectableRow"],[3,"class"],[3,"outerHTML"],["styleClass","p-button-danger","icon","pi pi-trash","pTooltip","Hapus Role",3,"click"],["styleClass","p-button-info","icon","pi pi-pencil","pTooltip","Ubah Role",3,"click"],["styleClass","","icon","pi pi-list-check","pTooltip","Assign Permissions",3,"click"],[1,"!text-center","w-full"]],template:function(t,o){if(t&1){let r=de();n(0,"div",4)(1,"div",5)(2,"p-button",6),f("click",function(){return w(r),k(o.rolePermissionStore.addAction())}),s(),d(3,"app-role-permission-search"),s(),n(4,"p-table",7,0),f("onLazyLoad",function(P){return w(r),k(o.rolePermissionStore.onLazyLoad(P))}),S(6,tt,2,1,"ng-template",null,1,q)(8,at,3,1,"ng-template",null,2,q)(10,lt,3,1,"ng-template",null,3,q),s()(),d(12,"p-blockui",8)}if(t&2){let r=ue(5),c=ue(9);a(4),p("columns",o.rolePermissionStore.roles.$cols())("value",o.rolePermissionStore.roles.$dataList())("loading",o.rolePermissionStore.roles.$dataLoading())("paginator",!0)("rows",5)("rowsPerPageOptions",W(11,Ze))("paginatorDropdownAppendTo",c)("lazy",!0)("totalRecords",o.rolePermissionStore.roles.$totalRowCount()),a(8),p("blocked",o.rolePermissionStore.roles.$disabledTable())("target",r)}},dependencies:[Q,J,b,F,Oe,Ue,Ve,Le,ne]})};function mt(i,e){if(i&1&&(n(0,"th",4),h(1),s()),i&2){let t=e.$implicit;a(),x(" ",t.header," ")}}function pt(i,e){if(i&1&&(n(0,"tr")(1,"th",3),h(2,"Name"),s(),n(3,"th",4),h(4,"Feature Assign"),s(),n(5,"th",4),h(6,"Permission Assign"),s()(),n(7,"tr"),S(8,mt,2,1,"th",5),s()),i&2){let t=m();a(),T("rowspan",2),a(2),T("rowspan",2),a(2),T("colspan",6),a(3),p("ngForOf",t.rolePermissionStore.permissions.$colsCheckbox())}}function ct(i,e){if(i&1&&d(0,"i"),i&2){let t=m().rowData;v(t.icon)}}function dt(i,e){if(i&1&&d(0,"p-checkbox",9),i&2){let t=m().$implicit,o=m().rowData;p("ngModel",o[t.field])("binary",!0)}}function ut(i,e){i&1&&d(0,"span",10)}function ft(i,e){if(i&1&&(n(0,"td",4)(1,"div",8),S(2,dt,1,2,"p-checkbox",9)(3,ut,1,0,"span",10),s()()),i&2){let t=e.$implicit,o=m().rowData;a(2),$(o[t.viewCheckbox]?2:3)}}function ht(i,e){if(i&1&&(n(0,"tr")(1,"td"),d(2,"p-treeTableToggler",6),S(3,ct,1,3,"i",7),h(4),s(),n(5,"td")(6,"div",8),d(7,"p-checkbox",9),s()(),H(8,ft,4,1,"td",4,z),s()),i&2){let t=e.$implicit,o=e.rowData,r=m();a(2),p("rowNode",t),a(),$(o.icon?3:-1),a(),x(" ",o.feature," "),a(3),p("ngModel",o.featureAssign)("binary",!0),a(),K(r.rolePermissionStore.permissions.$colsCheckbox())}}var le=class i{constructor(e,t){this.rolePermissionService=e;this.rolePermissionStore=t}ngOnInit(){this.rolePermissionStore.loadPermissionData()}static \u0275fac=function(t){return new(t||i)(ce(M),ce(u))};static \u0275cmp=g({type:i,selectors:[["app-role-assign-permission-list"]],standalone:!0,features:[_],decls:3,vars:3,consts:[["showGridlines","",3,"value","columns","loading"],["pTemplate","header"],["pTemplate","body"],[1,"!text-center",2,"width","350px"],[1,"!text-center"],["class","!text-center",4,"ngFor","ngForOf"],[3,"rowNode"],[3,"class"],[1,"flex","justify-center","items-center"],[3,"ngModel","binary"],[1,"pi","pi-minus","!text-xl"]],template:function(t,o){t&1&&(n(0,"p-treeTable",0),S(1,pt,9,4,"ng-template",1)(2,ht,10,5,"ng-template",2),s()),t&2&&p("value",o.rolePermissionStore.permissions.$listFilter())("columns",o.rolePermissionStore.permissions.$colsCheckbox())("loading",o.rolePermissionStore.permissions.$listFilter().length==0)},dependencies:[b,Fe,L,Ie,J,Be,Ge,je]})};var me=class i{rolePermissionStore=C(u);$header=R(()=>`${this.rolePermissionStore.roles.$selectedData()?.name} - ${this.rolePermissionStore.roles.$selectedData()?.notes}`);static \u0275fac=function(t){return new(t||i)};static \u0275cmp=g({type:i,selectors:[["app-role-assign-permission"]],standalone:!0,features:[_],decls:7,vars:1,consts:[[1,"w-full"],[3,"header"],[1,"p-2","flex","flex-col","gap-2"],[1,"flex","items-center","justify-end","gap-2"],["label","Save","icon","pi pi-check","severity","success",3,"click"],["label","Back","icon","pi pi-sign-out","severity","danger",3,"click"]],template:function(t,o){t&1&&(n(0,"div",0)(1,"p-panel",1)(2,"div",2),d(3,"app-role-assign-permission-list"),n(4,"div",3)(5,"p-button",4),f("click",function(){return o.rolePermissionStore.saveAssignment()}),s(),n(6,"p-button",5),f("click",function(){return o.rolePermissionStore.backToRolePage()}),s()()()()()),t&2&&(a(),p("header",o.$header()||"-"))},dependencies:[Q,b,X,F,le]})};var _t=()=>["idle","add","edit"];function bt(i,e){i&1&&(n(0,"div",0)(1,"p-panel",1),d(2,"app-role-permission-list"),s()())}function Ct(i,e){i&1&&d(0,"app-role-assign-permission")}var qe=class i{rolePermissionStore=C(u);static \u0275fac=function(t){return new(t||i)};static \u0275cmp=g({type:i,selectors:[["app-role-permission"]],standalone:!0,features:[xe([u,se,re]),_],decls:2,vars:2,consts:[[1,"w-full"],["header","Roles List"]],template:function(t,o){t&1&&S(0,bt,3,0,"div",0)(1,Ct,1,0,"app-role-assign-permission"),t&2&&$(W(1,_t).includes(o.rolePermissionStore.roles.$formMode())?0:1)},dependencies:[b,X,ae,me]})};export{qe as RolePermissionComponent};
