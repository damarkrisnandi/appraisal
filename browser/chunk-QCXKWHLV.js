import{e as J,j as X,n as oe,o as le,r as ie,v as re,x as pe,z as A}from"./chunk-AD5MRHZS.js";import"./chunk-5YZ64KU3.js";import{b as ae,f as me}from"./chunk-NPCH5WQM.js";import{l as F}from"./chunk-HTYRQ2B7.js";import"./chunk-4YRY4IP2.js";import"./chunk-AAMKBQK6.js";import"./chunk-4NACJNOH.js";import"./chunk-GK7EBKZJ.js";import{a as ce}from"./chunk-OQKDZ6KP.js";import{b as Y,e as Z,f as ee,g as te,h as N,j as se,k as ne}from"./chunk-7UNWFNVT.js";import{va as Q,wa as W}from"./chunk-O5ZETNJJ.js";import{m as K}from"./chunk-RUHRSDAR.js";import{Ab as d,Bb as i,La as B,Lb as P,Mb as $,Ob as w,Pa as r,Tb as U,Ub as g,Vb as q,Ya as l,_ as b,a as V,b as j,da as M,ea as S,eb as h,fc as v,gb as z,hb as p,ia as _,lb as y,mb as x,nb as G,pb as O,qb as H,rb as a,sa as C,sb as o,ta as T,tb as c,vc as L,xb as E}from"./chunk-IVTYGJWR.js";var k=class t{constructor(){}static \u0275fac=function(e){return new(e||t)};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})};var f=class t{constructor(s,e){this.templateSelfAssessmentsService=s;this.spinnerService=e;this.init()}state={templateSelfAssessments:{$dataList:l([]),$dataLoading:l(!1),$pagingInfo:l(new ce),$totalRowCount:l(1),$selectedData:l(null),$selectedVerified:l(!0),$disabledTable:l(!1),$optionsCategory:l([]),$selectedCategory:l(null),$searchText:l(""),$searchBtnClickEvent:l(!1)},$formMode:l("idle"),$loading:l(!1)};templateSelfAssessments={$dataList:this.state.templateSelfAssessments.$dataList.asReadonly(),$dataLoading:this.state.templateSelfAssessments.$dataLoading.asReadonly(),$selectedData:this.state.templateSelfAssessments.$selectedData.asReadonly(),$cols:l([{field:"no",header:"No",class_td:"!text-center !max-w-[50px]",type:"no"},{field:"template",header:"Template",class_td:"!text-center"},{field:"department",header:"Department",class_td:"!text-center"},{field:"position",header:"Position",class_td:"!text-center"},{field:"level",header:"Level",class_td:"!text-center"},{field:"action",header:"Actions",class_td:"flex justify-center items-center gap-2",type:"action"}]).asReadonly(),$pagingInfo:this.state.templateSelfAssessments.$pagingInfo.asReadonly(),$totalRowCount:this.state.templateSelfAssessments.$totalRowCount.asReadonly(),$optionsCategory:this.state.templateSelfAssessments.$optionsCategory.asReadonly(),$selectedCategory:this.state.templateSelfAssessments.$selectedCategory.asReadonly(),$searchText:L(()=>this.templateSelfAssessments.$selectedCategory()==="id"?parseInt(this.state.templateSelfAssessments.$searchText()):this.state.templateSelfAssessments.$searchText()),$filter:L(()=>{let s=null;return this.templateSelfAssessments.$selectedCategory()&&(s={},s[this.templateSelfAssessments.$selectedCategory()??""]=this.templateSelfAssessments.$searchText()??""),s}),$disabledTable:L(()=>this.state.$formMode()=="update")};$formMode=this.state.$formMode.asReadonly();init(){this.setSpinner(),this.setSearchCategory(),this.populateList()}setSpinner(){W(this.state.$loading).subscribe(s=>s?this.spinnerService.show():this.spinnerService.hide())}populateList(){this.state.templateSelfAssessments.$dataLoading.set(!0);let s={wrapper:this.templateSelfAssessments.$filter(),pagingInfo:this.state.templateSelfAssessments.$pagingInfo(),totalRowCount:this.state.templateSelfAssessments.$totalRowCount()};this.state.templateSelfAssessments.$dataLoading.set(!1)}onLazyLoad(s){this.state.templateSelfAssessments.$pagingInfo.set(j(V({},this.templateSelfAssessments.$pagingInfo()),{currentPage:Math.floor(s.first/s.rows)+1,pageSize:s.rows})),this.populateList()}setSearchCategory(){this.state.templateSelfAssessments.$optionsCategory.set([{label:"Semua",value:null},{label:"Template",value:"template"}])}onSearchBtnClicked({category:s,search:e}){this.state.templateSelfAssessments.$selectedCategory.set(s),s&&this.state.templateSelfAssessments.$searchText.set(e),this.populateList()}addAction(){}deleteAction(s){}editAction(s){}static \u0275fac=function(e){return new(e||t)(M(k),M(Q))};static \u0275prov=b({token:t,factory:t.\u0275fac})};var R=class t{templateSelfAssessmentsStore=S(f);searchForm=new te({category:new N({value:null,disabled:!1}),search:new N({value:"",disabled:!0})});tempSearch={category:null,search:""};constructor(){this.onCategoryChanges(),this.onSearchChanges()}onCategoryChanges(){this.searchForm.controls.category.valueChanges.subscribe(s=>{console.log(s),this.tempSearch.category=s,this.searchForm.get("search")?.reset(),s?this.searchForm.get("search")?.enable():this.searchForm.get("search")?.disable()})}onSearchChanges(){this.searchForm.controls.search.valueChanges.subscribe(s=>{this.tempSearch.search=s})}onButtonClicked(){this.templateSelfAssessmentsStore.onSearchBtnClicked(this.tempSearch)}onRefresh(){this.searchForm.patchValue({category:null,search:""}),this.templateSelfAssessmentsStore.onSearchBtnClicked(this.tempSearch)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=_({type:t,selectors:[["app-template-assessments-search"]],standalone:!0,features:[g],decls:8,vars:2,consts:[[1,"grid","grid-cols-6","grid-flow-rows","gap-2",3,"formGroup"],["styleClass","col-span-6 md:col-span-1","formControlName","category","name","category","appendTo","body",3,"options"],[1,"col-span-6","md:col-span-5"],["pInputText","","formControlName","search","name","search"],["icon","pi pi-search",1,"w-full","!h-full",3,"click"],["icon","pi pi-refresh","severity","info",1,"w-full","!h-full",3,"click"]],template:function(e,n){e&1&&(a(0,"div",0),c(1,"p-dropdown",1),a(2,"p-inputgroup",2),c(3,"input",3),a(4,"p-inputgroup-addon")(5,"p-button",4),d("click",function(){return n.onButtonClicked()}),o()(),a(6,"p-inputgroup-addon")(7,"p-button",5),d("click",function(){return n.onRefresh()}),o()()()()),e&2&&(p("formGroup",n.searchForm),r(),p("options",n.templateSelfAssessmentsStore.templateSelfAssessments.$optionsCategory()))},dependencies:[A,Y,Z,ee,ae,F,re,me,pe,se,ne]})};var he=()=>[5,10,20];function ge(t,s){if(t&1&&(a(0,"th",10),$(1),o()),t&2){let e=s.$implicit;r(),w(" ",e.header," ")}}function Ae(t,s){if(t&1&&(a(0,"tr"),h(1,ge,2,1,"th",9),o()),t&2){let e=s.$implicit;r(),p("ngForOf",e)}}function Ce(t,s){if(t&1&&(a(0,"td"),c(1,"div",13),o()),t&2){let e=i().$implicit,n=i().$implicit;y(e.class_td),r(),p("outerHTML",e.template(n[e.field]),B)}}function Te(t,s){if(t&1){let e=E();a(0,"td")(1,"p-button",14),d("click",function(){C(e);let m=i(2).$implicit,u=i();return T(u.templateSelfAssessmentsStore.deleteAction(m))}),o(),a(2,"p-button",15),d("click",function(){C(e);let m=i(2).$implicit,u=i();return T(u.templateSelfAssessmentsStore.editAction(m))}),o()()}if(t&2){let e=i().$implicit;y(e.class_td)}}function ye(t,s){if(t&1&&(a(0,"td"),$(1),o()),t&2){let e=i().$implicit,n=i().rowIndex;y(e.class_td),r(),w(" ",n+1," ")}}function $e(t,s){if(t&1&&(a(0,"td"),$(1),o()),t&2){let e=i().$implicit,n=i().$implicit;y(e.class_td),r(),w(" ",n[e.field]," ")}}function be(t,s){if(t&1&&h(0,Ce,2,3,"td",12)(1,Te,3,2,"td",12)(2,ye,2,3,"td",12)(3,$e,2,3,"td",12),t&2){let e,n=s.$implicit;x((e=n.type)==="custom"?0:e==="action"?1:e==="no"?2:3)}}function xe(t,s){if(t&1&&(a(0,"tr",11),O(1,be,4,1,null,null,G),o()),t&2){let e=s.$implicit,n=s.columns;p("pSelectableRow",e),r(),H(n)}}function we(t,s){if(t&1&&(a(0,"tr")(1,"td",16),$(2,"Data Kosong"),o()()),t&2){let e=i();r(),z("colspan",e.templateSelfAssessmentsStore.templateSelfAssessments.$cols().length)}}var D=class t{templateSelfAssessmentsStore=S(f);static \u0275fac=function(e){return new(e||t)};static \u0275cmp=_({type:t,selectors:[["app-template-self-assessments-list"]],standalone:!0,features:[g],decls:13,vars:12,consts:[["dt",""],["header",""],["body",""],["emptymessage",""],[1,"card"],[1,"flex","justify-end","items-center","gap-1","flex-col","md:flex-row","mb-2","w-full"],["styleClass","p-button-contrast w-full","icon","pi pi-plus","label","Tambah Template",3,"click"],[3,"onLazyLoad","columns","value","loading","paginator","rows","rowsPerPageOptions","paginatorDropdownAppendTo","lazy","totalRecords"],[3,"blocked","target"],["class","!text-center",4,"ngFor","ngForOf"],[1,"!text-center"],[3,"pSelectableRow"],[3,"class"],[3,"outerHTML"],["styleClass","p-button-danger","icon","pi pi-trash","pTooltip","Hapus Role",3,"click"],["styleClass","p-button-info","icon","pi pi-pencil","pTooltip","Ubah Role",3,"click"],[1,"!text-center","w-full"]],template:function(e,n){if(e&1){let m=E();a(0,"div",4)(1,"div",5)(2,"p-button",6),d("click",function(){return C(m),T(n.templateSelfAssessmentsStore.addAction())}),o(),c(3,"app-template-assessments-search"),o(),a(4,"p-table",7,0),d("onLazyLoad",function(ue){return C(m),T(n.templateSelfAssessmentsStore.onLazyLoad(ue))}),h(6,Ae,2,1,"ng-template",null,1,v)(8,xe,3,1,"ng-template",null,2,v)(10,we,3,1,"ng-template",null,3,v),o()(),c(12,"p-blockui",8)}if(e&2){let m=P(5),u=P(9);r(4),p("columns",n.templateSelfAssessmentsStore.templateSelfAssessments.$cols())("value",n.templateSelfAssessmentsStore.templateSelfAssessments.$dataList())("loading",n.templateSelfAssessmentsStore.templateSelfAssessments.$dataLoading())("paginator",!0)("rows",5)("rowsPerPageOptions",q(11,he))("paginatorDropdownAppendTo",u)("lazy",!0)("totalRecords",n.templateSelfAssessmentsStore.templateSelfAssessments.$totalRowCount()),r(8),p("blocked",n.templateSelfAssessmentsStore.templateSelfAssessments.$disabledTable())("target",m)}},dependencies:[A,F,oe,le,K,ie,J,R]})};function ve(t,s){t&1&&(a(0,"div",0)(1,"p-panel",1),c(2,"app-template-self-assessments-list"),o()())}var de=class t{templateSelfAssessmentsStore=S(f);static \u0275fac=function(e){return new(e||t)};static \u0275cmp=_({type:t,selectors:[["app-template-self-assessments"]],standalone:!0,features:[U([f]),g],decls:1,vars:1,consts:[[1,"w-full"],["header","Roles List"]],template:function(e,n){e&1&&h(0,ve,3,0,"div",0),e&2&&x(n.templateSelfAssessmentsStore.$formMode()==="idle"?0:-1)},dependencies:[D,A,X]})};export{de as TemplateSelfAssessmentsComponent};
